% arara: xelatex
% arara: biber
% arara: xelatex
% arara: xelatex
% arara: clean: { files: [ smp.aux, smp.log, smp.out ] }
% arara: clean: { files: [ smp.toc, smp.lot, smp.lof, smp.lol ] }
% arara: clean: { files: [ smp.bbl, smp.bcf, smp.blg, smp.run.xml ] }
% arara: clean: { files: [ interface-graph-builder.aux ] }
% arara: clean: { files: [ interface-interop.aux ] }
% arara: clean: { files: [ interface-ssa.aux ] }
% arara: clean: { files: [ interface-test.aux ] }
% arara: clean: { files: [ introduction.aux ] }
% arara: clean: { files: [ logical-representation.aux ] }
% arara: clean: { files: [ mathematical-representation.aux ] }
% arara: clean: { files: [ reflection.aux ] }

\documentclass[
minp=25,
maxp=30,
letterpaper,
]{smcm-cosc-smp}[2013/12/23]

\usepackage{amsmath, amssymb, amsthm}
\usepackage{pifont}
\usepackage{smcm-math, smcm-cosc-graphs}
\usepackage{markup}
\usepackage{csquotes}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{fancyhdr}
\usepackage{booktabs}
\usepackage{array}
\lstset{
  rangeprefix=\#\%\ ,
  rangesuffix=\ \%\#,
  includerangemarker=false,
  gobble=2,% TODO doesn't work for inputlisting
  frame=single,
  frameround=tttt,
  backgroundcolor=\color{blue!5},
  rulecolor=\color{blue!50!black}, % TODO background color extends past rounded corner
  language=Python,
  morekeywords={assert,self},
  showstringspaces=false,
  showspaces=false,
  showtabs=false,
}
\renewcommand*\lstlistlistingname{List of Listings}
\lstMakeShortInline[basicstyle=\small\ttfamily]"
\usepackage[hide]{todo}
\makeatletter\renewcommand*\@tododisplay[1]{}\makeatother

\usepackage{microtype}

\usepackage[
backend=biber,
%autocite=footnote,
%style=authoryear,
]{biblatex}

\addbibresource{refs.bib}

\usepackage{tikz}
\usetikzlibrary{automata}

\usepackage[hidelinks]{hyperref}
\hypersetup{
  pdfauthor={Sean Allred},
  pdftitle={SSA-Tool: A Utility for the Creation and Evaluation of Self-Stabilizing Algorithms},
  pdfsubject={Graph Theory},
  pdfkeywords={Graph,Algorithm,Distributed},
  pdfcreator={XeTeX}
}

\usepackage{gitinfo}
\fancypagestyle{plain}{%
  \fancyhf{}
  \rfoot{\color{gray}\ttfamily\small r@\gitAbbrevHash\slash\gitAuthorIsoDate}
  \renewcommand\headrulewidth{0pt}
  \cfoot{\thepage}}
\pagestyle{plain}

\usepackage{menukeys}           % actually has to be loaded after hyperref?

                                \title
                         {\texttt{ssa-tool}}%
              [A Utility for the Creation and Evaluation \\
                   of Self-Stabilizing Algorithms]

                               \author
                            {Sean Allred}%
                           [Alan Jamieson]

                                \date
                           {14 April 2013}

%\geometry{showframe}
\setlength\parskip{1ex}
\setlength\parindent{0em}

\begin{document}
\maketitle
\thispagestyle{empty}

\begin{abstract}
  \input{abstract.txt}
\end{abstract}

\tableofcontents
\listoftables
\listoffigures
\lstlistoflistings
\newpage
\begin{quote}
  Alan,

  Note that I have a lot of notes to myself as well throughout this paper \Dash
    each and every one of them is noted in the margins and corresponds to
    an item at the very end of this paper.
  (There is an example one just to the right.)
  \todo{Remove note.}
  There are a couple things where I think you would agree with me in the ToDo section;
    so you can check there first if you see a todo note thing
    before you take the time to explain what's wrong.
  Hope that makes your job easier \Dash and thanks for reviewing these this early!

  \bigskip

  \centerline{This note is not part of the draft.}

  \bigskip

  \hfill\mbox{~\Dash Sean}
\end{quote}

\clearpage

% Define what a self-stabilizing algorithm is and their applications.
% This will give an argument as to why they are necessary, why they
% are useful, and why a tool like this is warranted.
\include{sections/introduction}

% Run through the mathematical definitions of a graph, nodes/edges,
% and self-stabilizing algorithms.  In the last, stress the pairing of
% predicate and action functions.
\include{sections/mathematical-representation}

% Draw from the mathematical definitions and implement them in Python.
% In doing so, create the core classes.
\include{sections/logical-representation}

% Now we have the ability to logically manipulate graphs and
% algorithms.  Without an interface, however, we are still where we
% were.  Create an interface to compose an algorithm and argue the
% necessity and utility of each aspect.
\include{sections/interface-ssa}

% We have the ability to create algorithms, but nothing to test them
% on.  Introduce an interface to create graphs and import/export them
% to common formats.  This section is simply presentation; it needs no
% argument.
%\include{sections/interface-graph-builder}

% We have algorithms and graphs to test them on, but nothing to
% facilitate the testing.  Introduce an interface to load algorithms
% and test with specific graphs (or those of an arbitrary degree).
\include{sections/interface-test}

\include{sections/interface-interop}

% Dunno
\include{sections/reflection}

\appendix

\section*{Example Code}
\lstinputlisting[caption=Example Code]{../src/example.py}

\newpage
\printbibliography

\todos
\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% TeX-PDF-mode: t
%%% truncate-lines: nil
%%% TeX-engine: xetex
%%% TeX-command-default: "arara"
%%% End: 
